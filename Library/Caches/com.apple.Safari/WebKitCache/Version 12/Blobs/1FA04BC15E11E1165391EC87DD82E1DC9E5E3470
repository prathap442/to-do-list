(function($,undefined){if($.ui&&$.ui.dialog){$.ui.dialog.overlay.events=$.map("focus,keydown,keypress".split(","),function(event){return event+".dialog-overlay"}).join(" ")}})(jQuery);
$(document).ready(function(){var trendInterval=Math.floor($(".trendTopics").width()/2);var trendTotalWidth=$(".trendInner").width();var trendPage=0;var trendBusy=false;if(trendTotalWidth<=877){$(".trendArrow").addClass("h")}else{$(".trendArrow").removeClass("h")}$(".trendNext").click(function(){if(!trendBusy&&(trendPage+1)*trendInterval<trendTotalWidth-trendInterval){trendBusy=true;trendPage++;$(".trendInner").animate({left:"-="+trendInterval},600,function(){trendBusy=false})}});$(".trendPrev").click(function(){if(!trendBusy&&trendPage>0){trendBusy=true;trendPage--;$(".trendInner").animate({left:"+="+trendInterval},600,function(){trendBusy=false})}})});$(document).ready(function(){function expandSlide(){$(".expand-options").slideToggle("fast",function(){$(this).toggleClass("h")})}$(".expand-toggler").on("click",".toggler",function(event){$(this).toggleClass("open");expandSlide()});$(".asearchform").on("click",function(){if(!$(".toggler").hasClass("open")){$(".toggler").addClass("open");expandSlide()}});$('[name="product_type"]').on("change",function(){$(this).closest("form").find(':input[name!="product_type"]').each(function(){switch(this.type){case"select-one":case"select-multiple":case"text":$(this).val("");break}});$(this).closest("form").trigger("submit")});$(".reviewFinder").submit(function(){$(this).find("input").each(function(){var input=$(this);if(!input.val()){input.prop("disabled",true)}})});$("#searchSortSelect").change(function(){var currentUrl=window.location.href;if(currentUrl.indexOf("sort=")!=-1){window.location=currentUrl.replace(/([?|&]sort=)[^&]+/,"$1"+this.value)}else{window.location=currentUrl+"&sort="+this.value}})});$(document).ready(function(){$(".viewList").on("click",$(this),function(event){event.preventDefault();$(this).addClass("active").siblings().removeClass("active");$(".newsBoxes").removeClass("gridView").addClass("listView").css("display","none").fadeIn("slow")});$(".viewGrid").on("click",$(this),function(event){event.preventDefault();$(this).addClass("active").siblings().removeClass("active");$(".newsBoxes").removeClass("listView").addClass("gridView").css("display","none").fadeIn("slow")})});
(function(g){var q={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},m=!1;g(window).bind("load.jcarousel",function(){m=!0});g.jcarousel=function(a,c){this.options=g.extend({},q,c||{});this.autoStopped=this.locked=!1;this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null;if(!c||c.rtl===void 0)this.options.rtl=(g(a).attr("dir")||g("html").attr("dir")||"").toLowerCase()=="rtl";this.wh=!this.options.vertical?"width":"height";this.lt=!this.options.vertical?this.options.rtl?"right":"left":"top";for(var b="",d=a.className.split(" "),f=0;f<d.length;f++)if(d[f].indexOf("jcarousel-skin")!=-1){g(a).removeClass(d[f]);b=d[f];break}a.nodeName.toUpperCase()=="UL"||a.nodeName.toUpperCase()=="OL"?(this.list=g(a),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=g(a),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip"));if(this.clip.size()===0)this.clip=this.list.wrap("<div></div>").parent();if(this.container.size()===0)this.container=this.clip.wrap("<div></div>").parent();b!==""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1&&this.container.wrap('<div class=" '+b+'"></div>');this.buttonPrev=g(".jcarousel-prev",this.container);if(this.buttonPrev.size()===0&&this.options.buttonPrevHTML!==null)this.buttonPrev=g(this.options.buttonPrevHTML).appendTo(this.container);this.buttonPrev.addClass(this.className("jcarousel-prev"));this.buttonNext=g(".jcarousel-next",this.container);if(this.buttonNext.size()===0&&this.options.buttonNextHTML!==null)this.buttonNext=g(this.options.buttonNextHTML).appendTo(this.container);this.buttonNext.addClass(this.className("jcarousel-next"));this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"});this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0);this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var j=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null,b=this.list.children("li"),e=this;if(b.size()>0){var h=0,i=this.options.offset;b.each(function(){e.format(this,i++);h+=e.dimension(this,j)});this.list.css(this.wh,h+100+"px");if(!c||c.size===void 0)this.options.size=b.size()}this.container.css("display","block");this.buttonNext.css("display","block");this.buttonPrev.css("display","block");this.funcNext=function(){e.next()};this.funcPrev=function(){e.prev()};this.funcResize=function(){e.resizeTimer&&clearTimeout(e.resizeTimer);e.resizeTimer=setTimeout(function(){e.reload()},100)};this.options.initCallback!==null&&this.options.initCallback(this,"init");!m&&navigator.userAgent.match(/safari/i)?(this.buttons(!1,!1),g(window).bind("load.jcarousel",function(){e.setup()})):this.setup()};var f=g.jcarousel;f.fn=f.prototype={jcarousel:"0.2.8"};f.fn.extend=f.extend=g.extend;f.fn.extend({setup:function(){this.prevLast=this.prevFirst=this.last=this.first=null;this.animating=!1;this.tail=this.resizeTimer=this.timer=null;this.inTail=!1;if(!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var a=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null;this.animate(a,!1);g(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize);this.options.setupCallback!==null&&this.options.setupCallback(this)}},reset:function(){this.list.empty();this.list.css(this.lt,"0px");this.list.css(this.wh,"10px");this.options.initCallback!==null&&this.options.initCallback(this,"reset");this.setup()},reload:function(){this.tail!==null&&this.inTail&&this.list.css(this.lt,f.intval(this.list.css(this.lt))+this.tail);this.tail=null;this.inTail=!1;this.options.reloadCallback!==null&&this.options.reloadCallback(this);if(this.options.visible!==null){var a=this,c=Math.ceil(this.clipping()/this.options.visible),b=0,d=0;this.list.children("li").each(function(f){b+=a.dimension(this,c);f+1<a.first&&(d=b)});this.list.css(this.wh,b+"px");this.list.css(this.lt,-d+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0;this.buttons()},unlock:function(){this.locked=!1;this.buttons()},size:function(a){if(a!==void 0)this.options.size=a,this.locked||this.buttons();return this.options.size},has:function(a,c){if(c===void 0||!c)c=a;if(this.options.size!==null&&c>this.options.size)c=this.options.size;for(var b=a;b<=c;b++){var d=this.get(b);if(!d.length||d.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(a){return g(">.jcarousel-item-"+a,this.list)},add:function(a,c){var b=this.get(a),d=0,p=g(c);if(b.length===0)for(var j,e=f.intval(a),b=this.create(a);;){if(j=this.get(--e),e<=0||j.length){e<=0?this.list.prepend(b):j.after(b);break}}else d=this.dimension(b);p.get(0).nodeName.toUpperCase()=="LI"?(b.replaceWith(p),b=p):b.empty().append(c);this.format(b.removeClass(this.className("jcarousel-item-placeholder")),a);p=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;d=this.dimension(b,p)-d;a>0&&a<this.first&&this.list.css(this.lt,f.intval(this.list.css(this.lt))-d+"px");this.list.css(this.wh,f.intval(this.list.css(this.wh))+d+"px");return b},remove:function(a){var c=this.get(a);if(c.length&&!(a>=this.first&&a<=this.last)){var b=this.dimension(c);a<this.first&&this.list.css(this.lt,f.intval(this.list.css(this.lt))+b+"px");c.remove();this.list.css(this.wh,f.intval(this.list.css(this.wh))-b+"px")}},next:function(){this.tail!==null&&!this.inTail?this.scrollTail(!1):this.scroll((this.options.wrap=="both"||this.options.wrap=="last")&&this.options.size!==null&&this.last==this.options.size?1:this.first+this.options.scroll)},prev:function(){this.tail!==null&&this.inTail?this.scrollTail(!0):this.scroll((this.options.wrap=="both"||this.options.wrap=="first")&&this.options.size!==null&&this.first==1?this.options.size:this.first-this.options.scroll)},scrollTail:function(a){if(!this.locked&&!this.animating&&this.tail){this.pauseAuto();var c=f.intval(this.list.css(this.lt)),c=!a?c-this.tail:c+this.tail;this.inTail=!a;this.prevFirst=this.first;this.prevLast=this.last;this.animate(c)}},scroll:function(a,c){!this.locked&&!this.animating&&(this.pauseAuto(),this.animate(this.pos(a),c))},pos:function(a,c){var b=f.intval(this.list.css(this.lt));if(this.locked||this.animating)return b;this.options.wrap!="circular"&&(a=a<1?1:this.options.size&&a>this.options.size?this.options.size:a);for(var d=this.first>a,g=this.options.wrap!="circular"&&this.first<=1?1:this.first,j=d?this.get(g):this.get(this.last),e=d?g:g-1,h=null,i=0,k=!1,l=0;d?--e>=a:++e<a;){h=this.get(e);k=!h.length;if(h.length===0&&(h=this.create(e).addClass(this.className("jcarousel-item-placeholder")),j[d?"before":"after"](h),this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(e<=0||e>this.options.size)))j=this.get(this.index(e)),j.length&&(h=this.add(e,j.clone(!0)));j=h;l=this.dimension(h);k&&(i+=l);if(this.first!==null&&(this.options.wrap=="circular"||e>=1&&(this.options.size===null||e<=this.options.size)))b=d?b+l:b-l}for(var g=this.clipping(),m=[],o=0,n=0,j=this.get(a-1),e=a;++o;){h=this.get(e);k=!h.length;if(h.length===0){h=this.create(e).addClass(this.className("jcarousel-item-placeholder"));if(j.length===0)this.list.prepend(h);else j[d?"before":"after"](h);if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(e<=0||e>this.options.size))j=this.get(this.index(e)),j.length&&(h=this.add(e,j.clone(!0)))}j=h;l=this.dimension(h);if(l===0)throw Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");this.options.wrap!="circular"&&this.options.size!==null&&e>this.options.size?m.push(h):k&&(i+=l);n+=l;if(n>=g)break;e++}for(h=0;h<m.length;h++)m[h].remove();i>0&&(this.list.css(this.wh,this.dimension(this.list)+i+"px"),d&&(b-=i,this.list.css(this.lt,f.intval(this.list.css(this.lt))-i+"px")));i=a+o-1;if(this.options.wrap!="circular"&&this.options.size&&i>this.options.size)i=this.options.size;if(e>i){o=0;e=i;for(n=0;++o;){h=this.get(e--);if(!h.length)break;n+=this.dimension(h);if(n>=g)break}}e=i-o+1;this.options.wrap!="circular"&&e<1&&(e=1);if(this.inTail&&d)b+=this.tail,this.inTail=!1;this.tail=null;if(this.options.wrap!="circular"&&i==this.options.size&&i-o+1>=1&&(d=f.intval(this.get(i).css(!this.options.vertical?"marginRight":"marginBottom")),n-d>g))this.tail=n-g-d;if(c&&a===this.options.size&&this.tail)b-=this.tail,this.inTail=!0;for(;a-- >e;)b+=this.dimension(this.get(a));this.prevFirst=this.first;this.prevLast=this.last;this.first=e;this.last=i;return b},animate:function(a,c){if(!this.locked&&!this.animating){this.animating=!0;var b=this,d=function(){b.animating=!1;a===0&&b.list.css(b.lt,0);!b.autoStopped&&(b.options.wrap=="circular"||b.options.wrap=="both"||b.options.wrap=="last"||b.options.size===null||b.last<b.options.size||b.last==b.options.size&&b.tail!==null&&!b.inTail)&&b.startAuto();b.buttons();b.notify("onAfterAnimation");if(b.options.wrap=="circular"&&b.options.size!==null)for(var c=b.prevFirst;c<=b.prevLast;c++)c!==null&&!(c>=b.first&&c<=b.last)&&(c<1||c>b.options.size)&&b.remove(c)};this.notify("onBeforeAnimation");if(!this.options.animation||c===!1)this.list.css(this.lt,a+"px"),d();else{var f=!this.options.vertical?this.options.rtl?{right:a}:{left:a}:{top:a},d={duration:this.options.animation,easing:this.options.easing,complete:d};if(g.isFunction(this.options.animationStepCallback))d.step=this.options.animationStepCallback;this.list.animate(f,d)}}},startAuto:function(a){if(a!==void 0)this.options.auto=a;if(this.options.auto===0)return this.stopAuto();if(this.timer===null){this.autoStopped=!1;var c=this;this.timer=window.setTimeout(function(){c.next()},this.options.auto*1e3)}},stopAuto:function(){this.pauseAuto();this.autoStopped=!0},pauseAuto:function(){if(this.timer!==null)window.clearTimeout(this.timer),this.timer=null},buttons:function(a,c){if(a==null&&(a=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="first"||this.options.size===null||this.last<this.options.size),!this.locked&&(!this.options.wrap||this.options.wrap=="first")&&this.options.size!==null&&this.last>=this.options.size))a=this.tail!==null&&!this.inTail;if(c==null&&(c=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="last"||this.first>1),!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!==null&&this.first==1))c=this.tail!==null&&this.inTail;var b=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),a&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[a?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",a?!1:!0),this.options.buttonNextCallback!==null&&this.buttonNext.data("jcarouselstate")!=a&&this.buttonNext.each(function(){b.options.buttonNextCallback(b,this,a)}).data("jcarouselstate",a)):this.options.buttonNextCallback!==null&&this.buttonNextState!=a&&this.options.buttonNextCallback(b,null,a);this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),c&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[c?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",c?!1:!0),this.options.buttonPrevCallback!==null&&this.buttonPrev.data("jcarouselstate")!=c&&this.buttonPrev.each(function(){b.options.buttonPrevCallback(b,this,c)}).data("jcarouselstate",c)):this.options.buttonPrevCallback!==null&&this.buttonPrevState!=c&&this.options.buttonPrevCallback(b,null,c);this.buttonNextState=a;this.buttonPrevState=c},notify:function(a){var c=this.prevFirst===null?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",a,c);this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",a,c,this.first),this.callback("itemFirstOutCallback",a,c,this.prevFirst));this.prevLast!==this.last&&(this.callback("itemLastInCallback",a,c,this.last),this.callback("itemLastOutCallback",a,c,this.prevLast));this.callback("itemVisibleInCallback",a,c,this.first,this.last,this.prevFirst,this.prevLast);this.callback("itemVisibleOutCallback",a,c,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(a,c,b,d,f,j,e){if(!(this.options[a]==null||typeof this.options[a]!="object"&&c!="onAfterAnimation")){var h=typeof this.options[a]=="object"?this.options[a][c]:this.options[a];if(g.isFunction(h)){var i=this;if(d===void 0)h(i,b,c);else if(f===void 0)this.get(d).each(function(){h(i,this,d,b,c)});else for(var a=function(a){i.get(a).each(function(){h(i,this,a,b,c)})},k=d;k<=f;k++)k!==null&&!(k>=j&&k<=e)&&a(k)}}},create:function(a){return this.format("<li></li>",a)},format:function(a,c){for(var a=g(a),b=a.get(0).className.split(" "),d=0;d<b.length;d++)b[d].indexOf("jcarousel-")!=-1&&a.removeClass(b[d]);a.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+c)).css({float:this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",c);return a},className:function(a){return a+" "+a+(!this.options.vertical?"-horizontal":"-vertical")},dimension:function(a,c){var b=g(a);if(c==null)return!this.options.vertical?b.outerWidth(!0)||f.intval(this.options.itemFallbackDimension):b.outerHeight(!0)||f.intval(this.options.itemFallbackDimension);else{var d=!this.options.vertical?c-f.intval(b.css("marginLeft"))-f.intval(b.css("marginRight")):c-f.intval(b.css("marginTop"))-f.intval(b.css("marginBottom"));g(b).css(this.wh,d+"px");return this.dimension(b)}},clipping:function(){return!this.options.vertical?this.clip[0].offsetWidth-f.intval(this.clip.css("borderLeftWidth"))-f.intval(this.clip.css("borderRightWidth")):this.clip[0].offsetHeight-f.intval(this.clip.css("borderTopWidth"))-f.intval(this.clip.css("borderBottomWidth"))},index:function(a,c){if(c==null)c=this.options.size;return Math.round(((a-1)/c-Math.floor((a-1)/c))*c)+1}});f.extend({defaults:function(a){return g.extend(q,a||{})},intval:function(a){a=parseInt(a,10);return isNaN(a)?0:a},windowLoaded:function(){m=!0}});g.fn.jcarousel=function(a){if(typeof a=="string"){var c=g(this).data("jcarousel"),b=Array.prototype.slice.call(arguments,1);return c[a].apply(c,b)}else return this.each(function(){var b=g(this).data("jcarousel");b?(a&&g.extend(b.options,a),b.reload()):g(this).data("jcarousel",new f(this,a))})}})(jQuery);
(function($){var defaults={path:"",thumbPath:"",fullPath:"",fullGallery:false,columns:3,imgHeight:50,imgWidth:75,jsonScript:"",jsonObject:null,ajaxData:{},cssClass:"jcarousel-skin-tango",onComplete:$.noop,fullPos:"top",showCount:false,imgEvent:"mouseenter",afterEvent:$.noop,imgEventOverride:$.noop,onLargeImgClick:function(){$(this).data("imageSlider").caller="large_image";methods._next($(this),$(this).data("imageSlider"))},vertical:false,showButtons:false,precache:false,sliderEvent:$.noop},methods={_init:function(options){return this.each(function(){var $this=$(this),data=$this.data("imageSlider");if(!data){if(options){options=$.extend({},defaults,options)}var elementID=$this.attr("id"),sliderID=elementID+"_slider",counterID=elementID+"_ct",targetID=elementID+"_target",data={element:$this,elementID:elementID,sliderID:sliderID,counterID:counterID,targetID:targetID,options:options,imageCache:null,total:0};if(options.jsonObject===null){methods._processAjax(data)}else{methods._process(data);if(options.onComplete!==$.noop){options.onComplete.call()}}}})},_carousel_initCallBack:function(carousel,data){$("#"+data.elementID+" .big_img .prev").bind("click",function(){var slider="#"+data.sliderID,target=$("#"+data.targetID),num=target.data("num")-1;num=num>0?num:data.total;carousel.scroll($.jcarousel.intval(num));data.caller="prev";methods._changeImage(num,data)});$("#"+data.elementID+" .big_img .next").bind("click",function(){data.caller="next";methods._next(carousel,data)});$("#"+data.elementID+"_target").bind("click",data.options.onLargeImgClick)},_changeImage:function(num,data){var options=data.options,jsonObject=options.jsonObject,target=$("#"+data.targetID);if(options.precache===true){target.attr("src",data.imageCache[num-1].src)}else{var pos=target.offset(),e={pageX:pos.left-20+target.width()/2,pageY:pos.top-40+target.height()/2},imgPath=options.path+(options.fullGallery?jsonObject[num-1].img:options.fullPath+jsonObject[num-1].image_id+".jpg");$(".slider_loading").css({top:e.pageY+"px",left:e.pageX+"px"}).show();target.attr("src",imgPath)}methods._setActive(num,data);target.data("num",num);if(options.showCount===true){$("#"+data.counterID).text("Image "+num+" of "+data.total.toString())}if(options.afterEvent!==$.noop){options.afterEvent.call(this,data.caller)}},_next:function(carousel,data){var target=$("#"+data.targetID),slider="#"+data.sliderID,num=parseInt(target.data("num"))+1;num=num<=data.total?num:1;carousel.scroll($.jcarousel.intval(num));methods._changeImage(num,data)},next:function(){var data=$(this).data("imageSlider");methods._next($("#"+data.sliderID).data("jcarousel"),data)},_process:function(data){var jsonData=data.options.jsonObject;if(jsonData.length>0){var options=data.options,total=data.total=jsonData.length,imgSrc,imgNum,loader='<div class="slider_loading" ><p><img src="'+image_server+'/images/loading.gif" /></p></div>',imgHtml='<div class="big_img">'+(options.showButtons===true?'<div class="prev"><div class="arrow prev_arrow" /></div>':"")+'<img id="'+data.elementID+'_target" src="" alt="" />'+(options.showButtons===true?'<div class="next"><div class="arrow next_arrow" /></div>':"")+"</div>\n",counter='<span id="'+data.counterID+'">Image 1 of '+total+"</span>",html=(options.fullPos==="top"?imgHtml+(options.showCount?counter:""):"")+'<ul id="'+data.sliderID+'" class=" '+options.cssClass+'" >\n',tempImg=[],tempCt=1;for(var i=0;i<total;i++){var imgType=jsonData[i].img.match(/\.(\w+)$/);if(imgType){imgType=imgType[1]}else{imgType="jpg"}html+="<li "+(i===0?'class="active"':"")+'><img src="'+options.path+options.thumbsPath+jsonData[i].image_id+"."+imgType+'" alt="'+jsonData[i].name+'" height="'+options.imgHeight+'px" width="'+options.imgWidth+'px" /><p>'+jsonData[i].name+"</p></li>";if(i===0){imgSrc=options.path+(options.fullGallery?jsonData[i].img:options.fullPath+jsonData[i].image_id+".jpg");imgNum=1}if(options.precache===true){tempImg[i]=new Image;tempImg[i].src=options.path+(options.fullGallery?jsonData[i].img:options.fullPath+jsonData[i].image_id+".jpg")}}html+="</ul>\n"+(options.fullPos==="bottom"?(options.showCount?counter:"")+imgHtml:"");data.element.html(html);var slider=$("#"+data.sliderID),target=$("#"+data.targetID);slider.find("li img").each(function(){$(this).data("num",tempCt);tempCt++});target.attr("src",imgSrc);target.data("num",imgNum);slider.jcarousel({scroll:options.columns,vertical:options.vertical,initCallback:function(carousel){methods._carousel_initCallBack(carousel,data)}});if(options.sliderEvent!==$.noop){$("#"+data.elementID+" .jcarousel-prev").click(function(){options.sliderEvent.call(this,"prev")});$("#"+data.elementID+" .jcarousel-next").click(function(){options.sliderEvent.call(this,"next")})}if(options.imgEventOverride===$.noop){$("#"+data.sliderID+" .jcarousel-item").bind(options.imgEvent,function(){data.caller="thumbnail";methods._changeImage($(this).attr("jcarouselindex"),data)})}else{options.imgEventOverride.call()}if(options.precache===true&&total>0){$(function(){$("body").append(loader)});data.imageCache=tempImg}else{target.load(function(){$(".slider_loading").hide()}).error(function(){$(".slider_loading").hide()})}$("#"+data.elementID).data("imageSlider",data)}},_processAjax:function(data){var options=data.options;$.ajax({url:options.jsonScript,type:"GET",data:options.ajaxData,dataType:"json",success:function(jsonData){options.jsonObject=jsonData;methods._process(data)},complete:function(jqXHR,textStatus){if(options.onComplete!==$.noop){options.onComplete.call()}}})},_setActive:function(num,data){var liElems=$("#"+data.sliderID+" li"),nthChild=$(liElems[num-1]);liElems.removeClass("active");nthChild.addClass("active")}};$.fn.imageSlider=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==="object"||!method){return methods._init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.imageSlider")}}})(jQuery);
(function($){var defaults={path:"",thumbPath:"",fullPath:"",columns:3,imgHeight:50,imgWidth:75,jsonScript:"",jsonObject:null,ajaxData:{},cssClass:"jcarousel-skin-tango",onComplete:$.noop,showCount:false,imgEvent:"mouseenter",afterEvent:$.noop,imgEventOverride:$.noop,showButtons:false,sliderEvent:$.noop,sponsored:false,sponsorHref:"",sponsorSrc:""},methods={_init:function(options){return this.each(function(){var $this=$(this),data=$this.data("gallery");if(!data){if(options){options=$.extend({},defaults,options)}var elementID=$this.attr("id"),sliderID=elementID+"_slider",counterID=elementID+"_ct",targetID=elementID+"_target",data={element:$this,elementID:elementID,sliderID:sliderID,counterID:counterID,targetID:targetID,options:options,imageCache:null,total:0};if(options.jsonObject===null){methods._processAjax(data)}else{methods._process(data);if(options.onComplete!==$.noop){options.onComplete.call()}}}})},_carousel_initCallBack:function(carousel,data){$("#"+data.elementID+" .big_img .prev").bind("click",function(e){var slider="#"+data.sliderID,target=$("#"+data.targetID),num=target.data("num")-1;num=num>0?num:data.total;carousel.scroll($.jcarousel.intval(num));data.caller="prev";methods._changeImage(num,data)});$("#"+data.elementID+" .nav_prev").bind("click",function(e){e.preventDefault();var slider="#"+data.sliderID,target=$("#"+data.targetID),num=target.data("num")-1;num=num>0?num:data.total;carousel.scroll($.jcarousel.intval(num));data.caller="nav_prev";methods._changeImage(num,data)});$("#"+data.elementID+" .big_img .next").bind("click",function(e){data.caller="next";methods._next(carousel,data)});$("#"+data.elementID+" .nav_next").bind("click",function(e){e.preventDefault();data.caller="nav_next";methods._next(carousel,data)});$("#"+data.elementID+"_target").bind("click",function(){data.caller="large_image";methods._next(carousel,data)})},_changeImage:function(num,data,stop_afterevent){var options=data.options,target=$("#"+data.targetID),bigImg=$("#"+data.elementID+" .big_img"),pos=bigImg.offset(),obj=options.jsonObject[num-1],e={pageX:pos.left-10+bigImg.width()/2,pageY:pos.top-10+bigImg.height()/2},imgSrc=options.path+obj.img,imgTxt=obj.name;$("#"+data.elementID+" .gallery_header_right").text(imgTxt);methods._setActive(num,data);$("#gallery_loading").css({top:e.pageY+"px",left:e.pageX+"px"}).show();target.attr("src",imgSrc);target.data("num",num);if(options.showCount===true){$("#"+data.counterID).text("IMAGE "+num+" of "+data.total.toString())}if(typeof stop_afterevent=="undefined"||!stop_afterevent){if(options.afterEvent!==$.noop){options.afterEvent.call(this,data.caller)}}},_next:function(carousel,data){var target=$("#"+data.targetID),num=parseInt(target.data("num"))+1;num=num<=data.total?num:1;carousel.scroll($.jcarousel.intval(num));methods._changeImage(num,data)},next:function(){var data=$(this).data("gallery");methods._next($("#"+data.sliderID).data("jcarousel"),data)},_process:function(data){var jsonData=data.options.jsonObject;if(jsonData.length>0){var options=data.options,total=data.total=jsonData.length,imgSrc,imgNum,html='<div id="ad_g01"></div>\n'+'<div class="gallery_header">\n'+'<div class="gallery_header_left">\n'+'<ul id="'+data.sliderID+'" class=" '+options.cssClass+'" >\n',loader='<div id="gallery_loading" ><p><img src="'+image_server+'/images/loading.gif" /></p></div>',sponsorImg='<img src="'+options.sponsorSrc+'" alt="" />',sponsorLink='<a href="'+options.sponsorHref+'" rel="">'+sponsorImg+"</a>",sponsor=options.sponsored===true?'<div class="gallery_sponsor">'+(options.sponsorHref!==""?sponsorLink:sponsorImg)+"</div>\n":"",counter='<span id="'+data.counterID+'">IMAGE 1 of '+total+"</span>",galleryBody='<div class="gallery_body">'+'<div class="gallery_left">'+'<div class="big_img">'+(options.showButtons===true?'<div class="prev"><div class="arrow prev_arrow" /></div>\n':"")+'<img id="'+data.elementID+'_target" src="" alt="" />\n'+(options.showButtons===true?'<div class="next"><div class="arrow next_arrow" /></div>\n':"")+"</div>\n"+"</div>\n"+'<div class="gallery_right">'+sponsor+'<div id="ad_g02"></div> '+"</div>\n"+"</div>\n",tempImg=[],tempCt=1;for(var i=0;i<total;i++){var imgType=jsonData[i].img.match(/\.(\w+)$/);if(imgType){imgType=imgType[1]}else{imgType="jpg"}html+="<li "+(i===0?'class="active"':"")+'><img src="'+options.path+options.thumbsPath+jsonData[i].image_id+"."+imgType+'" alt="'+jsonData[i].name+'" height="'+options.imgHeight+'px" width="'+options.imgWidth+'px" /><p>'+jsonData[i].name+"</p></li>";if(i===0){imgSrc=options.path+jsonData[0].img;imgNum=1;imgTxt=jsonData[0].name}}html+="</ul>\n"+'<div class="gallery_header_nav">'+'<span class="nav_prev prev fullGallery">previous image</span>'+counter+'<span class="nav_next next fullGallery">next image</span>'+"</div>\n"+"</div>"+'<div class="gallery_header_right">\n'+imgTxt+"</div>\n"+"</div>\n"+galleryBody;data.element.html(html);var slider=$("#"+data.sliderID),target=$("#"+data.targetID);slider.find("li img").each(function(){$(this).data("num",tempCt);tempCt++});target.attr("src",imgSrc);target.data("num",imgNum);slider.jcarousel({scroll:options.columns,initCallback:function(carousel){methods._carousel_initCallBack(carousel,data)}});if(options.sliderEvent!==$.noop){$("#"+data.elementID+" .jcarousel-prev").click(function(){options.sliderEvent.call(this,"prev")});$("#"+data.elementID+" .jcarousel-next").click(function(){options.sliderEvent.call(this,"next")})}if(options.imgEventOverride===$.noop){$("#"+data.sliderID+" .jcarousel-item").bind(options.imgEvent,function(){var me=$(this),num=me.attr("jcarouselindex");if(!me.hasClass("active")){data.caller="thumbnail";methods._changeImage(num,data)}})}else{options.imgEventOverride.call()}if(options.showButtons===true){$("#"+data.elementID+" .big_img .prev, #"+data.elementID+" .big_img .next").hover(function(){$(this).find(".arrow").stop(true,false).fadeTo("fast",1)},function(){$(this).find(".arrow").stop(true,false).fadeTo("slow",0)}).find(".arrow").css("opacity",0)}$(function(){if(document.getElementById("gallery_loading")==null){$("body").append(loader)}});target.load(function(){$("#gallery_loading").hide()}).error(function(){$("#gallery_loading").hide()});$("#"+data.elementID).data("gallery",data)}},_processAjax:function(data){var options=data.options;$.ajax({url:options.jsonScript,type:"GET",data:options.ajaxData,dataType:"json",success:function(jsonData){options.jsonObject=jsonData;methods._process(data)},complete:function(jqXHR,textStatus){if(options.onComplete!==$.noop){options.onComplete.call()}}})},_setActive:function(num,data){var liElems=$("#"+data.sliderID+" li"),nthChild=$(liElems[num-1]);liElems.removeClass("active");nthChild.addClass("active")}};$.fn.gallery=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==="object"||!method){return methods._init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.gallery")}}})(jQuery);
function addAjaxLoader(){$(document).ajaxStart(function(){$("#tmn_tmn_ajaxBusy").show()}).ajaxStop(function(){$("#tmn_tmn_ajaxBusy").hide()})}function loadPopup(name,cid){var adsense_block=document.getElementById(name),current_iframe=document.getElementById(name+"_scrnsht_adsense");if(current_iframe){current_iframe.parentNode.removeChild(current_iframe)}if(typeof ss_id=="undefined"||typeof caption=="string"&&caption.length<290){var new_iframe=document.createElement("iframe"),options={n:1,w:440,ow:445,oh:80,h:70,b:0,ml:0,mr:0,cid:cid},source="/dyn_adsense?",i=0;new_iframe.frameBorder=0;new_iframe.style.width="460px";new_iframe.style.height="100px";new_iframe.style.styleFloat="left";new_iframe.style.overflow="hidden";new_iframe.style.float="none";new_iframe.id=name+"_scrnsht_adsense";for(var key in options){if(i>0){source+="&"}source+=key+"="+options[key];i++}new_iframe.src=source;adsense_block.appendChild(new_iframe)}else if(caption_box){caption_box.className="ss_big_image_caption_large"}}function pageSetup(channel){playAd=null;var wd=document.all&&!window.opera&&!window.XMLHttpRequest?694:"auto",hd=wd===694?345:"auto";$("#image_modal").dialog({autoOpen:false,show:"easein",width:wd,closeText:"",modal:true,resizable:false,beforeClose:function(){this.getElementsByTagName("img")[0].src=""},close:function(){reloadScripts()}});$("#image_modal").find("img").load(function(){$("#image_modal").dialog("open")});$(".img_enlarge").click(function(){if($(".mqCheck-Med").css("color")!="rgb(0, 0, 0)"){_gaq.push(["_trackEvent","Image_Enlarge","click","Open Enlarged Image Popup"]);loadPopup("ss_big_image_adsense",channel);var imgPath=this.getElementsByTagName("img")[0].src.replace("thumbs/","");var $this=$(this),pos=$this.offset(),e={pageX:pos.left-20+$this.width()/2,pageY:pos.top-30+$this.height()/2};throbberShow(e);$("#image_modal").find("img").attr("src",imgPath)}});return false}function throbberHide(){$("#tmn_tmn_ajaxBusy").css({top:"5px",left:"5px",position:"fixed"}).hide()}function throbberShow(e){e=e||window.event;var pageX=e.pageX||e.clientX+document.body.scrollLeft,pageY=e.pageY||e.clientY+document.body.scrollTop;$("#tmn_tmn_ajaxBusy").css({top:pageY+"px",left:pageX+"px",position:"absolute"}).show()}function addFullGallery(jsonObject,ppid){var fGallery=$("#full_gallery"),vSize=$(window).width()<1100,closeClass="full_gallery_close";if(vSize){fGallery.addClass("small");closeClass="full_gallery_close"}fGallery.gallery({path:"",thumbsPath:image_server+"/images/uploads/r70x70/",imgHeight:70,imgWidth:70,imgEvent:"click",columns:vSize?8:9,cssClass:"jcarousel-skin-fgallery",jsonObject:jsonObject,fullPos:"bottom",showCount:true,showButtons:true,sponsored:true,sponsorHref:"",sponsorSrc:"",afterEvent:function(caller){_gaq.push(["_trackEvent","full-gallery",caller,""]);reloadScripts(true)},sliderEvent:function(caller){_gaq.push(["_trackEvent","full-gallery",caller+"_slider",""]);reloadScripts(true)}});fGallery.dialog({autoOpen:false,modal:true,show:"easein",position:"top",resizable:false,dialogClass:"overlay-modal",closeText:"CLOSE GALLERY",width:vSize?1020:1100,open:function(){var me=$(this),modal=$(".ui-dialog.overlay-modal").position();fullHeight=$("body").innerHeight();if(modal.left<0)$(".ui-dialog.overlay-modal").css("left",0);$(".ui-widget-overlay").toggleClass("overlay-bg").click(function(){me.dialog("close")});$(".overlay-bg").css("height",fullHeight);$(".ui-dialog-titlebar-close").removeClass("ui-dialog-titlebar-close").addClass(closeClass);adset="ads2"},beforeClose:function(){$("."+closeClass).removeClass(closeClass).addClass("ui-dialog-titlebar-close");$(".ui-widget-overlay").toggleClass("overlay-bg");adset=null}});$(".overlay-modal .ui-icon-closethick").append('<img src="'+image_server+'/images/gallery/close.png" />');$("#vfg").click(function(e){fGallery.dialog("open")});window.onresize=function(){var modal=$(".ui-dialog.overlay-modal");if(modal.css("display")==="block"){var a=$(this).width(),b=modal.width(),c=a-b;modal.css("left",c>0?c/2:0)}}}
(function($){var defaults={columns:5,imgHeight:25,imgWidth:75,jsonScript:"",jsonObject:null,ajaxData:{},cssClass:"jcarousel-skin-benchmark",imgEvent:"click",afterEvent:$.noop,jCarouselEnabled:true,onComplete:$.noop,showNext:true,graphClickNext:false,showPrev:true,graphClickPrev:false,sliderEvent:$.noop},methods={_init:function(options){return this.each(function(){var $this=$(this),data=$this.data("graph");if(!data){if(options){options=$.extend({},defaults,options)}var data={element:$this,elementID:$this.attr("id"),options:options,total:0,icons:0,bars:[],timer:null,initLoad:true};if(options.jsonObject===null){methods._processAjax(data)}else{methods._process(data,options.jsonObject)}}})},_getIntervalMax:function(max){var multiplier=1;if(max>100&&max<999){multiplier=10}else if(max>1e3&&max<9999){multiplier=100}else if(max>1e4&&max<99999){multiplier=1e3}else if(max>1e5&&max<999999){multiplier=1e4}max=parseInt(max/multiplier,0)+10;while(max%6!=0){max+=1}return max*multiplier},_animate:function(bar,steps,data){var target=document.getElementById(bar._id);if(bar._step<=steps){var w=parseInt(target.style.width)||0,change=Math.abs(w-bar._end);if(bar._start<bar._end){w=w+Math.ceil(change/2)}else{w=w-Math.ceil(change/2)}if(typeof[].indexOf!=="undefined"){if(bar._end===w&&data.col.indexOf(bar._id)===-1){data.col.push(bar._id);data.complete+=1}if(data.complete===data.total){clearInterval(data.timer);target.style.width=bar._end+"%"}}if($("#"+bar._id).hasClass("no-score")){target.style.width="75%"}else{target.style.width=w+"%"}bar._step=bar._step+1}else{clearInterval(data.timer)}},_drawGraph:function(data,jsonData){var graph=$("#"+data.elementID+" .graphs"),caption=$("#"+data.elementID+" .lpt_bmark_desc"),title=$("#"+data.elementID+" .lpt_bmark_title"),scaleMsg=$("#"+data.elementID+" .scaleMsg"),values=jsonData.results,drawWidth=0,max=methods._getValueMax(values),scale=methods._getIntervalMax(max),temp=0,scaleMax=7*scale/6,options=data.options,steps=55,bars=data.bars,textVal="";barTotal=0;title.find("h2").html(jsonData.title);caption.find("h3").html(jsonData.subscript);scaleMsg.html(jsonData.scaleMsg);clearInterval(data.timer);var elem_counter=0;for(var j=0,lenPrime=values.length;j<lenPrime;j+=1){var valSet=values[j],subBars=bars[elem_counter],offset=[],valLen=valSet.length,len=subBars.length;if(valLen==1){offset=[0]}else if(valLen==2){offset=[0,20]}else if(valLen==3){offset=[0,13,26]}else if(valLen>=4){offset=[0,10,20,30]}for(var i=0;i<len;i++){var score=typeof valSet[i]!=="undefined"?valSet[i]["score"]:null,notes=score!=null?valSet[i]["notes"]:"",$bar=$("#"+subBars[i]._id);if(typeof score==="string"&&!isNaN(parseFloat(score))){score=parseFloat(score)}elem=document.getElementById(subBars[i]._id);start=parseInt(elem.style.width)||0;end=Math.round(score/scaleMax*100);subBars[i]._start=start;subBars[i]._end=end;subBars[i]._delta=Math.ceil(Math.abs(start-end)/steps);subBars[i]._step=1;var barVal=$("#"+subBars[i]._id+" .value");textVal=methods._getValueString(score,jsonData.scale);if(score==null){var re=/^benchmark_graph_([0-9])_0$/;if(re.test($bar.attr("id"))){$bar.addClass("no-score");textVal="Not Tested"}else{$bar.removeClass("no-score")}}else{$bar.removeClass("no-score")}barVal.html(textVal);if(i>0){$bar.addClass("behind")}else{$bar.addClass("uno")}myElement=document.getElementById(subBars[i]._id);if(valLen>=4){myElement.style.height="10px";myElement.style.fontSize="10px";myElement.style.paddingTop="0px"}else if(valLen==3){myElement.style.height="13px";myElement.style.fontSize="11px";myElement.style.paddingTop="0px"}else if(valLen==2){myElement.style.height="15px";myElement.style.fontSize="10px";myElement.style.paddingTop="5px"}else{myElement.style.height="28px";myElement.style.fontSize="14px";myElement.style.paddingTop="12px"}$bar.css("top",offset[i]);$bar.find(".notes").html(notes);barTotal+=1}elem_counter+=1}var newData={timer:data.timer,total:barTotal,complete:0,col:[]};newData.timer=setInterval(function(){for(var i=0,len_1=bars.length;i<len_1;i+=1){subBars=bars[i];for(var j=0,len_2=subBars.length;j<len_2;j+=1){var bar=subBars[j];methods._animate(bar,steps,newData)}}},steps);if(data.initLoad===false){options.afterEvent.call(this,data.caller)}for(i=6;i>=0;i-=1){$("#"+data.elementID+"_grid_base_"+i.toString()).html("&nbsp;"+methods._getValueString(scale/6*i,jsonData.scale))}},_getValueMax:function(values){var max=0;for(var keys in values){res=values[keys];for(var val in res){var tempMax=res[val]["score"];if(typeof tempMax!=="undefined"&&typeof tempMax==="string"&&!isNaN(parseFloat(tempMax))){tempMax=parseFloat(tempMax)}if(tempMax>max)max=tempMax}}return max},_getValueString:function(value,unit){if(value!==null){if(unit==="hh:mm"){var time=parseInt(value),t1=parseInt(time/60),t2=time-t1*60;value=t1+":"+(t2<10?"0":"")+t2}}else{value=""}return value},_processAjax:function(data){var options=data.options;$.ajax({url:options.jsonScript,type:"GET",data:options.ajaxData,dataType:"json",success:function(jsonData){methods._process(data,jsonData)},complete:function(jqXHR,textStatus){if(options.onComplete!==$.noop){options.onComplete.call()}}})},_newBar:function(id){return bar={_id:id,_delta:0,_start:0,_end:0,_step:1}},_process:function(data,jsonData){if(!$.isEmptyObject(jsonData)){for(var i=0;i<jsonData.tests.length;i++){if("undefined"!=typeof jsonData.tests[i].results&&"undefined"!=typeof jsonData.tests[i].results[0][0]&&jsonData.tests[i].results[0][0].score==null){jsonData.tests.splice(i,1);i--}}$("#benchmark").css("display","block");var ct=jsonData.systems.length,total=ct,id,options=data.options,i=0,nextBtn="<div class='lpt_tbar_arrows graph_ctrl'><div class='lpt_tbar_ri'><span class='prev bmarkArrow left_part'></span></div><div class='lpt_tbar_ri2'><span class='next bmarkArrow right_part'></div></div>";html=""+"<div class='lpt_gallery_tbar'>\n"+(options.showNext&&options.jCarouselEnabled?nextBtn:"")+"<div class='lpt_tbar_heading'><div class='lpt_tbar_bevel'></div><div class='lpt_tbar_title'><div class='lpt_bmark_title'><h2></h2></div><div class='lpt_bmark_num'></div></div></div>"+"</div>"+"<div class='lpt_bmark_desc'><h3></h3></div>"+"<div class='lpt_bmark_graphs'><div class='graphs_space'></div>"+"<div class='graph_container'><div class='graph_left'>",html2="<div class='graphs'>\n",html3="",bar=null,bars=[],subBars=null;for(i=0;i<ct;i+=1){if(i===0){extraClass=" first_bar";leftClass=" first_bar"}else if(i===ct-1){extraClass=" last_bar";leftClass=" last_bar"}else{extraClass="";leftClass=" bar_background"}html+="<div class='bench_name "+leftClass+"' ><p><span>"+jsonData.systems[i]+"</span></p></div>";html2+="<div class='row'>\n";var repeat=ct===i+1?1:4,offset=0;subBars=[];for(var j=0;j<repeat;j+=1){bar=methods._newBar(data.elementID+"_graph_"+i+"_"+j);html2+="<div id='"+bar._id+"' class='bar"+extraClass+"' style='top: 0px;' >"+"<div class='notes'></div>\n"+"<div class='value'></div>\n"+"</div>";subBars.push(bar)}html2+="</div>";bars.push(subBars)}data.bars=bars;data.total=ct;html3+="<div class='lpt_graph_measure'>";html3+="<div class='graph_measure_name scaleMsg'></div><div class='measurements_graph'>";for(i=0;i<7;i+=1){html3+="<div id='"+data.elementID+"_grid_base_"+i.toString()+"' class='axis axis_"+i.toString()+"'></div>"}html2+="</div>\n";html+="</div></div>\n"+html2+"<div class='spacer'></div>"+html3+"</div></div>\n"+"</div>\n"+"</div>\n";if(options.jCarouselEnabled===true){data.icons=ct=jsonData.tests.length;btotal=jsonData.tests.length;html+="<ul class='tests "+options.cssClass+"' >\n";for(i=0;i<ct;i+=1){html+="<li "+(i===0?'class="active"':"")+'><span><img src="'+image_server+'/r/images/graph/mini-grids.png" alt="'+jsonData.tests[i].title+'" height="'+options.imgHeight+'" width="'+options.imgWidth+'" /></span><span>'+jsonData.tests[i].name+"</span></li>\n"}html+="</ul>\n";data.element.html(html);ct=0;$("#"+data.elementID+" .tests li").each(function(){$(this).data("test",jsonData.tests[ct]).data("num",ct+1);if(ct===0){methods._drawGraph(data,jsonData.tests[ct]);$("#"+data.elementID+" .graphs").data("num",ct+1)}$(this).bind(options.imgEvent,function(){var me=$(this);if(!me.hasClass("active")){$("#"+data.elementID+" .tests li").removeClass("active");me.addClass("active");current=$("#"+data.elementID+" .active").attr("jcarouselindex");$("#"+data.elementID+" .lpt_bmark_num").html(current+" of "+btotal);data.caller="thumbnail";$("#"+data.elementID+" .graphs").data("num",me.data("num"));methods._drawGraph(data,me.data("test"))}});ct+=1});$("#"+data.elementID+" .lpt_bmark_num").html("1 of "+btotal);$("#"+data.elementID+" .tests").jcarousel({scroll:options.columns,vertical:options.vertical});if(options.sliderEvent!==$.noop){$("#"+data.elementID+" .jcarousel-prev").click(function(){options.sliderEvent.call(this,"prev")});$("#"+data.elementID+" .jcarousel-next").click(function(){options.sliderEvent.call(this,"next")})}}else{data.element.html(html);methods._drawGraph(data,jsonData.tests[0])}id=data.elementID;$("#"+data.elementID).data("graph",data);$("#"+data.elementID+" .bar").hover(function(){var me=$(this);if(!me.hasClass("uno")){me.removeClass("behind").addClass("hover");me.parent().find(".uno").addClass("behind")}},function(){var me=$(this);if(!me.hasClass("uno")){me.removeClass("hover").addClass("behind");me.parent().find(".uno").removeClass("behind")}});if(options.jCarouselEnabled===true){if(options.showNext){$("#"+data.elementID+" .next").click(function(){var graphName="#"+this.parentNode.parentNode.parentNode.parentNode.id;$(graphName).graph("next","next")})}if(options.graphClickNext){$("#"+data.elementID+" .graphs").click(function(){var graphName="#"+this.parentNode.parentNode.id;$(graphName).graph("next","graph")})}if(options.showPrev){$("#"+data.elementID+" .prev").click(function(){var graphName="#"+this.parentNode.parentNode.parentNode.parentNode.id;$(graphName).graph("prev","prev")})}if(options.graphClickPrev){$("#"+data.elementID+" .graphs").click(function(){var graphName="#"+this.parentNode.parentNode.id;$(graphName).graph("prev","graph")})}}data.initLoad=false}},next:function(caller){console.log("cetx");var data=$(this).data("graph"),graph=$("#"+data.elementID+" .lpt_bmark_graphs"),num=graph.data("num")+1,nthChild=null;num=isNaN(num)?2:num;data.caller=caller;num=num<=data.icons?num:1;graph.data("num",num);nthChild=$("#"+data.elementID+" .tests li:nth-child("+num+")");$("#"+data.elementID+" .tests li").removeClass("active");nthChild.addClass("active");current=$("#"+data.elementID+" .active").attr("jcarouselindex");$("#"+data.elementID+" .lpt_bmark_num").html(current+" of "+btotal);$("#"+data.elementID+" .tests").data("jcarousel").scroll($.jcarousel.intval(num));methods._drawGraph(data,nthChild.data("test"))},prev:function(caller){var data=$(this).data("graph"),graph=$("#"+data.elementID+" .lpt_bmark_graphs"),num=graph.data("num")-1,nthChild=null;num=isNaN(num)?0:num;data.caller=caller;num=num==0?btotal:num;graph.data("num",num);nthChild=$("#"+data.elementID+" .tests li:nth-child("+num+")");$("#"+data.elementID+" .tests li").removeClass("active");nthChild.addClass("active");current=$("#"+data.elementID+" .active").attr("jcarouselindex");$("#"+data.elementID+" .lpt_bmark_num").html(current+" of "+btotal);$("#"+data.elementID+" .tests").data("jcarousel").scroll($.jcarousel.intval(num));methods._drawGraph(data,nthChild.data("test"))}};$.fn.graph=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==="object"||!method){return methods._init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.graph")}}})(jQuery);
window.interstitialObj=function(){this.safe_vars=["ad_width","ad_height","ad_border_width","ad_border_color","ad_background","base_z_index","close_button_image","close_button_width","close_button_height","close_button_position","smokescreen_display","smokescreen_brightness"];this.ad_div="ad_interstitial";this.ad_width=640;this.ad_height=480;this.ad_border_width=2;this.ad_border_color="black";this.ad_background="white";this.base_z_index=1e5;this.close_button_image=image_server+"/images/popup-close-button.png";this.close_button_width=34;this.close_button_height=35;this.close_button_position="right";this.smokescreen_div="interstitial-bg";this.smokescreen_display=true;this.smokescreen_brightness="dark";this.init=function(){var iO=interstitialObj;iO.smokescreen_opacity_map={dark:.6,very_dark:.8,light:.4,very_light:.2};iO.smokescreen_opacity=iO.smokescreen_opacity_map[iO.smokescreen_brightness.replace(" ","_")];iO.close_button_height_offset=-parseInt(iO.close_button_height/2)+2;iO.close_button_width_offset=-parseInt(iO.close_button_width/2)+2;if(!iO.ad_div.match(/^[a-z0-9_-]+$/i)){throw new Exception("Invalid Ad div name.")}if(iO.close_button_position!="left"&&iO.close_button_position!="right"){throw new Exception("Invalid close button position.")}var sScr=document.getElementById("interstitial-bg");iO.smokeScreen=sScr?sScr:document.createElement("div");iO.smokeScreen.id=iO.smokescreen_div;if(iO.smokescreen_display){if(!iO.smokescreen_div.match(/^[a-z0-9_-]+$/i)){throw new Exception("Invalid Smokescreen div name.")}if(!iO.smokescreen_opacity){throw new Exception("Invalid smokescreen opacity.")}var ie_opacity=parseInt(iO.smokescreen_opacity*100).toString();iO.smokeScreen.style.position="fixed";iO.smokeScreen.style.left="0";iO.smokeScreen.style.top="0";if(iO.smokeScreen.style.opacity!==undefined){iO.smokeScreen.style.opacity=iO.smokescreen_opacity.toString()}else{iO.smokeScreen.style.filter="filter: alpha(opacity="+ie_opacity+")"}iO.smokeScreen.style.backgroundColor="black";iO.smokeScreen.style.zIndex=base_z_index;iO.smokeScreen.onclick=function(){interstitialObj.interstitialSmokeScreen(false)}}iO.interstitial=document.getElementById(iO.ad_div);iO.interstitial.style.display="none";iO.interstitial.style.position="absolute";iO.interstitial.style.width=iO.ad_width+"px";iO.interstitial.style.height=iO.ad_height+"px";var close_button=document.createElement("span");close_button.style.position="absolute";close_button.style.display="inline-block";close_button.style[iO.close_button_position]=iO.close_button_width_offset+"px";close_button.style.top=iO.close_button_height_offset+"px";close_button.innerHTML='<span style="width: '+iO.close_button_width+"px; height: "+iO.close_button_height+'px; cursor: pointer;" onclick="interstitialObj.interstitialSmokeScreen(false);"><img style="border: 0;" src="'+iO.close_button_image+'" /></span>';iO.interstitial.style.border="solid "+iO.ad_border_color+" "+iO.ad_border_width+"px";iO.interstitial.style.backgroundColor=iO.ad_background;iO.interstitial.style.zIndex=iO.base_z_index+10;if(iO.interstitial.insertBefore){iO.interstitial.insertBefore(close_button,iO.interstitial.firstChild)}else{iO.interstitial.appendChild(close_button)}document.body.appendChild(iO.smokeScreen)};this.writeParams=function(interstitialData){if(interstitialData!==undefined&&interstitialData){for(key in interstitialData){for(var i=0;i<safe_vars.length;i++){if(key==safe_vars[i]){this[key]=interstitialData[key];break}}}}};this.popInterstitial=function(interstitialData){this.writeParams(interstitialData);this.init();var leftscroll=document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;var topscroll=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;var browseheight=window.innerHeight?window.innerHeight:document.documentElement.clientHeight;var browsewidth=window.innerWidth?window.innerWidth:document.documentElement.clientWidth;var height=browseheight<ad_height?browseheight:ad_height;var width=browsewidth<ad_width?browsewidth:ad_width;browseheight=browseheight<height?0:browseheight;var boxtop=browseheight/2+topscroll;boxtop=boxtop-height/2;boxtop=boxtop<=0?0:boxtop;browsewidth=browsewidth<width?0:browsewidth;var boxleft=browsewidth/2+leftscroll;boxleft=boxleft-width/2;boxleft=boxleft<=0?0:boxleft;interstitial.style.top=boxtop+"px";interstitial.style.left=boxleft+"px";if(smokescreen_display){interstitialSmokeScreen(true)}interstitial.style.display="block"};this.interstitialSmokeScreen=function(on){var gbox=smokeScreen;var topscroll=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;if(on){var windowscroll=document.getElementsByTagName("html")[0];windowscroll.style.overflow="hidden";document.documentElement.scrollTop=topscroll;gbox.style.width="3000px";gbox.style.height="2000px";gbox.style.display="block"}else{var windowscroll=document.getElementsByTagName("html")[0];windowscroll.style.overflow="auto";document.body.scrollTop+=1;document.body.scrollTop-=1;document.documentElement.scrollTop=topscroll;gbox.style.display="none";interstitial.style.display="none"}};return this}();
(function($){"use strict";var keyboardAllowed=typeof Element!=="undefined"&&"ALLOW_KEYBOARD_INPUT"in Element,fn=function(){var val,valLength;var fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"]];var i=0;var l=fnMap.length;var ret={};for(;i<l;i++){val=fnMap[i];if(val&&val[1]in document){for(i=0,valLength=val.length;i<valLength;i++){ret[fnMap[0][i]]=val[i]}return ret}}return false}();Purch=Purch||{};Purch.UI=Purch.UI||{};Purch.UI.FullScreen=Purch.UI.FullScreen||{};Purch.UI.FullScreen.debug=true;Purch.UI.FullScreen=function(options){var self=this;self.o=$.extend({elem:null,init:true},options||{});Purch.UI.FullScreen.debug=self.o.debug||!Purch.UI.FullScreen.enabled;if(self.o.init){self.init()}return self};Purch.UI.FullScreen.prototype={init:function(){var self=this;self.$e=Purch.UI.FullScreen.debug?$(self.o.elem).addClass("fullscreenLayer"):$(self.o.elem).addClass("fullscreenEnabled");self.$p=self.$e.parent();self.togglerBtn='<span class="fsToggler fa fa-expand"></span>';self.$togglerContainer=self.$e.attr("data-fs-togglerContainer")?self.$e.find(self.$e.attr("data-fs-togglerContainer")):self.$e;self.triggerOnchange=self.$e.attr("data-fs-triggerOnchange")||undefined;$(self.togglerBtn).appendTo(self.$togglerContainer);self.$toggler=self.$e.find(".fsToggler");self.initAds();self.addEvt(fn.fullscreenchange,function(e){self.$toggler.toggleClass("fa-expand").toggleClass("fa-compress");self.$e.toggleClass("fullscreenOn");self.onchange.call(self,e);self.adsEnabler()});self.addEvt(fn.fullscreenerror,$.proxy(self.onerror,self));var $customToggler=self.$e.data("fs-togglercustom")?$(self.$e.data("fs-togglercustom")):"";if($customToggler.size()){$customToggler.on("click",$.proxy(self.toggleOnclick,self))}$(self.$toggler).on("click",$.proxy(self.toggleOnclick,self));if(Purch.UI.FullScreen.debug){$(document).on("keyup.rgGallery",function(event){event.preventDefault();if(event.keyCode===27&&Purch.UI.FullScreen.isOpened===true){self.toggleLayer.call(self)}})}},initAds:function(){var self=this;if(self.$e.data("adsfs")===true){var adsfsTop=self.$e.data("adsfs-top");var adsfsRight=self.$e.data("adsfs-right");if(adsfsTop){self.$e.addClass("adsfs-top-on")}if(adsfsRight){self.$e.addClass("adsfs-right-on")}self.$e.find("#adsfs-top").prepend($("<div></div>",{id:adsfsTop})).hide();self.$e.find("#adsfs-right").prepend($("<div></div>",{id:adsfsRight})).hide()}},adsEnabler:function(){var self=this;var adsfsTop=self.$e.data("adsfs-top");var adsfsRight=self.$e.data("adsfs-right");var adsAdset=self.$e.data("adsfs-adset");if(self.$e.hasClass("fullscreenOn")){window.adset=adsAdset;self.$e.find("#adsfs-top, #adsfs-right").show();if(self.$e.data("adsfs-refresh-on")){self.adsDartBindRefresh()}}else{window.adset=null;self.$e.find("#adsfs-top, #adsfs-right").hide();if(self.$e.data("adsfs-refresh-on")){self.adsDartUnbindRefresh()}}},adsDartBindRefresh:function(){var self=this;var $targets=$(self.$e.data("adsfs-refresh-on"));if(typeof window.reloadScripts==="function")$targets.on("click.dartRefresh",function(e){reloadScripts(true)})},adsDartUnbindRefresh:function(){var self=this;var $targets=$(self.$e.data("adsfs-refresh-on"));$targets.off("click.dartRefresh")},srcSwitcher:function(){if($(".switchEnabled.isZoomed")){var thumbSRC=$(".switchEnabled").attr("src");var bigSRC=$(".switchEnabled").attr("big-src");$(".switchEnabled").attr("src",bigSRC).attr("big-src",thumbSRC)}},addEvt:function(evt,cb){if(window.addEventListener){document.addEventListener(evt,cb,false)}else if(window.attachEvent){document.attachEvent("on"+evt,cb)}},toggleLayer:function(){var self=this,$dummyElem;self.$toggler.toggleClass("icon-extend").toggleClass("icon-reduce");self.$e.toggleClass("fullscreenOn").toggleClass("fsLayer");try{if(!Purch.UI.FullScreen.isOpened){$dummyElem=$('<div class="fsDummy"></div>').insertAfter(self.$e);$("html").css({overflow:"hidden",height:"100%"});$("body").scrollTop(0).css({overflow:"hidden",height:"100%"}).append(self.$e)}else{$dummyElem=$(".fsDummy");self.$e.insertAfter($dummyElem);$dummyElem.remove();$("html").css({overflow:"",height:""});$("body").css({overflow:""});$(".fsBgLayer").remove()}}catch(e){console.log(e)}self.onchange()},toggle:function(){var self=this;if(Purch.UI.FullScreen.isFullscreen){self.exit()}else{self.request(self.$e[0])}},toggleOnclick:function(){var self=this;if(Purch.UI.FullScreen.debug){self.toggleLayer()}else if($(this).prev().attr("big-src")){$(".fullscreenEnabled > img").removeClass();$(this).prev().toggleClass("switchEnabled");self.toggle(self.$e[0])}else{self.toggle(self.$e[0])}},request:function(elem){var request=fn.requestFullscreen;elem=elem||document.documentElement;if(/5\.1[\.\d]* Safari/.test(navigator.userAgent)){elem[request]()}else{elem[request](keyboardAllowed&&Element.ALLOW_KEYBOARD_INPUT)}},exit:function(){document[fn.exitFullscreen]()},onchange:function(){var self=this;Purch.UI.FullScreen.isOpened=!Purch.UI.FullScreen.isOpened;if("function"===typeof self.o.onchange){self.o.onchange()}if(self.triggerOnchange){$(window).trigger(self.triggerOnchange)}},onerror:function(){},raw:fn};try{Object.defineProperty(Purch.UI.FullScreen,"debug",{writable:true,configurable:true,value:false});Object.defineProperty(Purch.UI.FullScreen,"isOpened",{writable:true,configurable:true,value:false});Object.defineProperty(Purch.UI.FullScreen,"isFullscreen",{get:function(){return!!document[fn.fullscreenElement]}});Object.defineProperty(Purch.UI.FullScreen,"element",{enumerable:true,get:function(){return document[fn.fullscreenElement]}});Object.defineProperty(Purch.UI.FullScreen,"enabled",{enumerable:true,get:function(){return!!document[fn.fullscreenEnabled]}})}catch(e){}$(document).ready(function(){$('[data-fs="true"]').each(function(){var e=this;var fs=new Purch.UI.FullScreen({elem:e});$(e).data("fs",fs)})})})(jQuery);